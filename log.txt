# arlogkn Commit Log

Generated: 2026-03-01

---
498d220 2026-03-01 fix: add caching for parsed lspci driver data (HIGH #5)
d78b5e8 2026-03-01 fix: performance and security improvements (MEDIUM #8,9 + LOW #10,11)
9547630 2026-03-01 fix: add input validation to awk_fuzzy_match to prevent injection
18839be 2026-03-01 fix: parse coredumpctl output by pattern matching instead of fixed positions
c4b4d82 2026-03-01 fix: replace while loop with sed in strip_ansi for reliability
e7d8bb5 2026-03-01 fix: prevent data loss in export_all_logs - trap preserves exported file on interrupt
7ffc7b4 2026-02-28 Update VirusTotal link format in README
8cbdf1c 2026-02-28 Update README with VirusTotal report link
06b6121 2026-02-28 chore: LOW #18-21 — code quality improvements (no functional changes)
e6074fb 2026-02-28 fix: MEDIUM #12,14 — generic error messages and URL validation
bf50ef1 2026-02-28 fix: HIGH #8,9,10 — signal handlers, interface validation, file permissions
06b845f 2026-02-28 fix: HIGH #6,7,11 — add timeouts and error handling for external commands
7f42c9d 2026-02-28 fix: HIGH #5 — prevent TOCTOU symlink attack in pacman log read
b3f8354 2026-02-28 fix: HIGH #4 — tighten BOOT_OFFSET validation bounds
93064be 2026-02-28 fix: CRITICAL #3 — prevent path traversal via symlink attack
fe69bd1 2026-02-28 fix: CRITICAL #2 — prevent temp file race condition in export_all_logs()
df731a2 2026-02-28 fix: CRITICAL #1 — prevent printf format string injection in cluster_errors()
f8014b9 2026-02-28 fix: USB device type detection use case-insensitive matching
04520a3 2026-02-28 fix: add missing shopt -s nullglob in network interface loops
37768f5 2026-02-28 fix: export_all_logs prevent partial write data loss and add validation
b93b7c0 2026-02-28 chore: remove test scripts used during security audit
7d84172 2026-02-28 fix: show correct boot offset in service journal errors heading
ffe2d77 2026-02-28 fix: cluster_errors() normalize dynamic content for proper error grouping
4a8a357 2026-02-28 fix: local-first internet connectivity check (no external traffic by default)
39675a9 2026-02-28 fix: replace unsafe echo with printf to prevent flag injection
f8f7c1f 2026-02-28 fix: CRITICAL — replace dangerous eval "$old_exit_trap" with subshell isolation
886cd02 2026-02-28 docs: update log.txt with latest commits
8d9b71a 2026-02-28 fix: CRITICAL — restore draw_table_* wrapper functions (102 call sites)
b13c0fc 2026-02-27 docs: update log.txt with latest commits
2bad518 2026-02-27 fix: enable extglob globally at script start (parse-time requirement)
06c4554 2026-02-27 fix: tbl_begin() use visible_len() for ANSI-safe header padding
652b097 2026-02-27 fix: support both --boot N and --boot=N argument formats
930bd1c 2026-02-27 fix: trap EXIT side-effect — save/restore caller's trap to avoid deletion
0f85122 2026-02-27 fix: check_internet — validate HTTP status code, not just TCP connection
d6d95cc 2026-02-27 fix: scan_mounts color logic — use if/elif to prevent overwriting
abf0dfe 2026-02-27 docs: update log.txt with latest commits
a12f179 2026-02-27 refactor: replace SESSION_SUMMARY.md with log.txt and auto-update script
adf75d9 2026-02-27 release: version 1.0.3 — security audit fixes
895bf92 2026-02-27 fix: add bash version check and remove legacy wrapper functions
330fffa 2026-02-27 fix: add temperature bounds validation (-100°C to +150°C)
c887e7c 2026-02-27 fix: remove '-' from wiki query whitelist to prevent potential injection
ce3d4dc 2026-02-27 fix: add -r flag to all xargs calls to prevent running with empty input
0e59c97 2026-02-27 fix: handle empty arrays with set -u using ${array[@]+"${array[@]}"} pattern
d27790e 2026-02-26 release: version 1.0.2 — bug fixes and performance improvements
a85bd2a 2026-02-26 docs: add log.md with raw commit history
d7ffd5b 2026-02-26 fix: detect_drivers collect ALL input drivers instead of just first
4a4e9f6 2026-02-26 perf: scan_network_interfaces use bash regex instead of grep for IP parsing
225b9a9 2026-02-26 fix: export_drivers remove duplicate virtio in grep pattern
e4fac98 2026-02-26 perf: scan_boot_timing use bash extglob instead of sed for trim
0bf9f5a 2026-02-26 perf: detect_gpu combine 2 sed processes into 1
aa80211 2026-02-26 perf: scan_system_basics use pure bash instead of 3 awk subprocesses
b899d68 2026-02-26 perf: remove redundant grep check in journal output validation
8779d64 2026-02-26 fix: export_drivers detect lspci availability correctly
09084ae 2026-02-26 fix: detect_system_info parse cpupower governor correctly
cf27eb6 2026-02-26 fix: use trap EXIT instead of RETURN to prevent temp file leak
f538e62 2026-02-26 fix: detect_drivers handle empty lsmod output correctly
0054401 2026-02-26 perf: check_internet use HEAD request and captive portal endpoint
bca4f6c 2026-02-26 fix: scan_mounts validate use_num before arithmetic comparison
b2483b0 2026-02-26 fix: scan_coredumps field splitting — awk direct processing instead of read
a04f11b 2026-02-25 fix: infinite loop in service name coloring — use awk instead of bash regex
9e64959 2026-02-25 docs: restore detailed technical changes section in changelog
a1084c7 2026-02-25 docs: restructure SESSION_SUMMARY.md as professional changelog
83370bf 2026-02-25 fix: validate BOOT_OFFSET range to prevent confusing journalctl errors
c8033a2 2026-02-25 fix: use printf instead of echo to avoid flag interpretation
aba5988 2026-02-25 fix: sanitize driver names to prevent pipe injection in IFS parsing
1671603 2026-02-25 refactor: standardize line counting to use wc -l consistently
da58e04 2026-02-25 fix: use bash regex instead of sed for service name highlighting
09c525d 2026-02-25 fix: make os-release parsing more robust with -m1 and -f2-
7b3961d 2026-02-25 fix: use bash built-in ${id^} instead of GNU sed \u extension
a2502f9 2026-02-25 refactor: make visible_len() call strip_ansi() to eliminate code duplication
8c30601 2026-02-25 perf: remove draw_footer() no-op function and 28 calls
87734af 2026-02-25 perf: use pure bash regex in strip_ansi() and visible_len() to eliminate sed subshell
ca902e7 2026-02-25 perf: reduce loaded_count from 3 subprocesses to 1
17b1bb4 2026-02-25 perf: reduce subprocess spawning in scan_coredumps() tight loop
8bdc753 2026-02-25 fix: validate before mutating OUTPUT_DIR in init_output_dir()
9f023ad 2026-02-25 fix: add missing nullglob in scan_usb_devices() loop
4efc813 2026-02-25 fix: correct lsblk grep pattern in export_usb_devices()
550a1ad 2026-02-25 refactor: remove get_pci_driver() dead code
032fd4c 2026-02-25 refactor: remove dead code - unused variables and commented functions
2a746b9 2026-02-25 fix: prevent temp file leak in scan_kernel_logs() after trap - RETURN
e3e56c9 2026-02-25 docs: comprehensive README overhaul with usage examples, technical architecture, and real-world use cases
5f30a31 2026-02-24 docs: update session summary with recent git commits phase 24-30
30539db 2026-02-24 fix: narrow platform driver detection to ISA/LPC bridges only, avoid false positives from PCIe/SATA bridges (phase 30)
e41a8ec 2026-02-24 fix: check symlink before readlink -f in scan_mounts() to reduce fork overhead (phase 29)
8ed136d 2026-02-24 fix: inline strip_ansi logic in visible_len() to eliminate subshell overhead (phase 28)
a132583 2026-02-24 fix: replace O(n²) bash regex loop with O(n) sed in strip_ansi() (phase 27)
f463e59 2026-02-24 fix: clear RETURN trap early in scan_kernel_logs to avoid nesting conflict (phase 26)
eed30af 2026-02-24 fix: add error handling for mktemp failure in scan_kernel_logs (phase 25)
dd9f970 2026-02-24 fix: lspci cache returns empty string instead of nothing when lspci output is empty (phase 24)
4ed3d93 2026-02-21 fix: final audit fixes round 2 including leak traps, lsusb timeouts, and sleep removals (phase 23)
3ba6c90 2026-02-21 fix: final audit fixes including security, performance, and formatting (phase 22)
bd84826 2026-02-21 fix: use unset sentinel for lspci cache and remove redundant driver checks (phase 21)
debb7be 2026-02-21 fix: cleanup gpu glob in detect_drivers and fix journal warning logic (phase 20)
15ecfc9 2026-02-21 fix: prevent flag collision in parse_args and double-scans in main dispatch (phase 19)
4449847 2026-02-21 fix: resolve symlinks in check_disk_space for cross-filesystem accuracy (phase 18)
d051423 2026-02-21 fix: table separator width, GPU glob precision, and boot timing float rounding (phase 17)
c3e1fae 2026-02-21 fix: critical dispatch nesting regression and missing IP column in export header (phase 16)
e13ce14 2026-02-21 fix: correct trim logic in boot timing and df symlink resolution in mounts (phase 15)
42ca40d 2026-02-21 fix: enable combined flags, multi-monitor detection, and RFC 3339 timestamp parsing (phase 14)
03a4cbb 2026-02-21 fix: correct lsmod off-by-one count and add missing USB idProduct read (phase 13)
ada8aef 2026-02-21 perf: consolidate duplicate lsmod calls in detect_drivers (phase 12)
e26ab2a 2026-02-21 fix: replace ((i++)) with i=$((i+1)) to prevent set -e abort in wiki lookup (phase 11)
0d59aca 2026-02-21 fix: resolve boot timing blame parsing errors on multi-word strings (phase 10)
4b518b4 2026-02-21 fix: change green checkmark to yellow warning for missing boot timing data
720af6c 2026-02-21 fix: refactor journalctl parameter passing to use arrays for boot offset (phase 8)
8a40e34 2026-02-21 perf: remove dead MAC code and optimize memory parsing (phase 7)
6837120 2026-02-21 fix: resolve check_internet crash and enable space syntax for wiki plugin
77d9c8c 2026-02-21 docs: improve README.md with design philosophy and script advantages
a3ba1a1 2026-02-21 fix: optimize network interface table for 80-column TTYs
cdae09a 2026-02-21 feat/fix: finalize system diagnostics logic, display expansion, and section formatting
9eb87a0 2026-02-21 feat: add 5 new diagnostic sections - systemctl --failed snapshot in scan_user_services - Hardware temperatures from /sys/class/hwmon - Network interface state from /sys/class/net - Boot timing via systemd-analyze blame - Swap status + zram detection from /proc/swaps - Updated export_all_logs with sections [1.5], [2.5], [7.5] - Updated scan order in main() for SCAN_ALL and SCAN_SYSTEM
2aeeb18 2026-02-21 fix: resolve wiki suggestions, coredump timestamp parsing, and trap isolation
a6e20d0 2026-02-21 fix: resolve multiple bugs in display detection, table formatting and system checks
363d6de 2026-02-20 perf: optimize driver detection and fuzzy matching (v1.0.1)
b753ff3 2026-02-19 feat: add wiki command reference with fuzzy matching and 20 command groups
ffde902 2026-02-19 Emphasize 'Read-only' in README description
4acf5e7 2026-02-19 Initial commit: arlogkn v1.0
